<div [ngClass]="{ 'pesquisar-input-wrapper': true, 'pesquisar-input-wrapper-hide': !exibirBtnPesquisa }">
  <div class="d-none d-sm-block">
    <div class="input-group">
      <div class="input-group-prepend">
        <span
          class="input-group-text"
          id="pesquisarBtn">
          <span class="sr-only">Pesquisar</span>
          <span class="icon-search"></span>
        </span>
      </div>
      <input
        type="text"
        class="form-control form-control-lg input-pesquisar"
        placeholder="Pequisar..."
        aria-label="Pequisar..."
        aria-describedby="pesquisarBtn"
        (click)="abrirModal(content)"
        (keydown)="abrirModal(content)"
        [(ngModel)]="termoPesquisa"
        (ngModelChange)="pesquisar()"
        (keydown.enter)="fecharModal()">
    </div>
  </div>
</div>

<div [ngClass]="{ 'pesquisar-btn-wrapper': true, 'pesquisar-btn-wrapper-hide': !exibirBtnPesquisa }">
  <div class="d-block d-sm-none mt-2">
    <button
      class="btn btn-light"
      type="button"
      (click)="abrirModal(content)">
      <span class="icon-search"></span>
    </button>
  </div>
</div>

<ng-template
  #content
  let-modal>
  <div class="modal-body">
    <div class="mb-2">
      <div class="input-group">
        <div class="input-group-prepend">
          <span
            class="input-group-text"
            id="pesquisarBtn">
            <span class="sr-only">Pesquisar</span>
            <span class="icon-search"></span>
          </span>
        </div>
        <input
          type="text"
          class="form-control form-control-lg input-pesquisar"
          placeholder="Pequisar..."
          aria-label="Pequisar..."
          aria-describedby="pesquisarBtn"
          [(ngModel)]="termoPesquisa"
          (ngModelChange)="pesquisar()"
          (keydown.enter)="irParaResultados()">
      </div>
    </div>
    <div class="mb-4">
      <select
        class="form-control form-control-lg"
        [(ngModel)]="cidadeSelecionada"
        (ngModelChange)="onChangeCidade()">
        <option [value]="'-,-'">- Qualquer cidade -</option>
        <option
          *ngFor="let cidade of cidades"
          [value]="cidade.nome + ',' + cidade.uf">
          {{ cidade.nome }} - {{ cidade.uf }}
        </option>
      </select>
    </div>
  </div>
  <div class="modal-footer">
    <button
      type="button"
      class="btn btn-primary"
      (click)="irParaResultados()">
      Ver resultados
    </button>
  </div>
</ng-template>
